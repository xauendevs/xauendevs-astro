<svg
  width="40px"
  height="100%"
  viewBox="0 0 247 390"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"
  class="cursor-pointer out-mouse-down"
  id="mouseDown"
>
  <path
    id="wheel"
    d="M123.359,79.775l0,72.843"
    style="fill:none;stroke:#fbb935;stroke-width:20px;"></path>
  <path
    id="mouse"
    d="M236.717,123.359c0,-62.565 -50.794,-113.359 -113.358,-113.359c-62.565,0 -113.359,50.794 -113.359,113.359l0,143.237c0,62.565 50.794,113.359 113.359,113.359c62.564,0 113.358,-50.794 113.358,-113.359l0,-143.237Z"
    style="fill:none;stroke:#fbb935;stroke-width:20px;"></path>
</svg>

<style>
  @keyframes scroll {
    0% {
      transform: translateY(0);
    }
    30% {
      transform: translateY(100px);
    }
  }

  svg #wheel {
    animation: scroll ease 1.5s infinite;
  }

  .out-mouse-down {
    opacity: 0;
    transition: opacity 0.5s ease-in;
  }

  .in-mouse-down {
    opacity: 1;
    transition: opacity 0.5s ease-in;
  }
</style>

<script>
  import { $ } from "@/lib/dom-selector";

  const mouseDownIcon = $("#mouseDown")!;

  mouseDownIcon.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  window.addEventListener("scroll", () => {
    const viewportHeight = window.innerHeight;

    const scrollTop = window.scrollY || document.documentElement.scrollTop;

    if (scrollTop + viewportHeight > viewportHeight) {
      mouseDownIcon.classList.add("in-mouse-down");
    } else {
      mouseDownIcon.classList.remove("in-mouse-down");
    }
  });
</script>
